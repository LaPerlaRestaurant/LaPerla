<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Factura de Restaurante La Perla</title>
    <style>
        h1 {
            margin-top: 0; /* Elimina el margen superior predeterminado del h1 */
        }
        .container {
            width: 80%;
            margin: 0 auto;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
        .total {
            font-weight: bold;
        }
    </style>
	<h2><p class="centrado">Pedidos Restaurante "LA PERLA"</p></h2>
	<style>
		.centrado{
			text-align: center;
			}
			div{
				position:absolute;
				border:1px solid 1000;
				width: 50%;
				}
				</style>
	</head>
	<body>
	
		NIT <br><input type="text" name="NIT" id="idCliente" placeholder="idCliente"/><br><br>
		Nombre Cliente <br><input type="text" name="nombreCliente" id="nombreCliente" placeholder="Nombre"/><br><br>
		Direccion <br><input type="text" name="direccionCliente" id="direccionCliente" placeholder="Direccion"/><br><br>
		Telefono <br><input type="text" name="telefonoCliente" id="telefonoCliente" placeholder="Telefono"/><br><br>
</head>
<body>
    <div class="container">
        <table id="billTable">
            <thead>
                <tr>
                    <th>MENÚ</th>
					<th>Seleccionar Menú</th>
                    <th>Cantidad</th>
                    <th>Precio Unitario</th>
                    <th>Total</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td> ENTRADAS
		</td>
		<td> <select name="menu">
			<option value="Hummus">Hummus</option>
			<option value="Carne">Carne</option>
		</select><br>
                    <td><input type="number" value="3" onchange="calculateTotal(this)"></td>
                    <td><input type="text" value="Q5.00" onchange="calculateTotal(this)"></td>
                    <td>Q15.00</td>
                </tr>
                <tr>
                    <td> ENSALADAS
		</td>
		<td> <select name="menu">
			<option value="Hummus">Hummus</option>
			<option value="Carne">Carne</option>
		</select><br>
                    <td><input type="number" value="2" onchange="calculateTotal(this)"></td>
                    <td><input type="text" value="Q5.00" onchange="calculateTotal(this)"></td>
                    <td>Q10.00</td>
                </tr>
                <tr>
                    <td> PASTAS
		</td>
		<td> <select name="menu">
			<option value="Hummus">Hummus</option>
			<option value="Carne">Carne</option>
		</select><br>
                    <td><input type="number" value="3" onchange="calculateTotal(this)"></td>
                    <td><input type="text" value="Q5.00" onchange="calculateTotal(this)"></td>
                    <td>Q15.00</td>
                </tr>
				<tr>
                    <td> POSTRES</td>
		<td> <select name="menu">
			<option value="Hummus">MANZANA</option>
			<option value="Carne">BANANO</option>
			<option value="Carne">PERA</option>
			<option value="Carne">FRESA PARA LA NUNA</option>
		</select><br>
                    <td><input type="number" value="3" onchange="calculateTotal(this)"></td>
                    <td><input type="text" value="Q5.00" onchange="calculateTotal(this)"></td>
                    <td>Q15.00</td>
                </tr>
				<tr>
                    <td> GASEOSAS
		</td>
		<td> <select name="menu">
			<option value="Hummus">Hummus</option>
			<option value="Carne">Carne</option>
		</select><br>
                    <td><input type="number" value="3" onchange="calculateTotal(this)"></td>
                    <td><input type="text" value="Q5.00" onchange="calculateTotal(this)"></td>
                    <td>Q15.00</td>
                </tr>
            </tbody>
            <tfoot>
                <tr>
                    <td colspan="5" class="total">Total</td>
                    <td id="totalAmount">Q70.00</td>
                </tr>
            </tfoot>
        </table>
		
		<label>TIPO DE PAGO:</label>
    <select name="tipo de pago">
        <option value="TARJETA">TARJETA</option>
                <option value="EFECTIVO">EFECTIVO</option>
            </select><br>

		<script>



			var idClienteNIT;
			var nombreCliente;
			var direccionCliente;
			var telefonoCliente;
			var nombreProducto;
			var precio;
			var cantidad;
			var total;
			var subtotal;
			var p=0;
			var iva;
			var subtotalP=0;
			var fecha= new Date()
			var imprimir;
			var numero_factura=0;
			
			
			function generarFactura(){
			
			
			idClienteNIT=document.getElementById("idCliente").value;
			nombreCliente=document.getElementById("nombreCliente").value;
			direccionCliente=document.getElementById("direccionCliente").value;
			telefonoCliente=document.getElementById("telefonoCliente").value;
			
			
			
			document.write(fecha.getDate()+"/"+ (fecha.getMonth()+1)+"/"+fecha.getFullYear()+"</br>"+"</br>"+"</br>");
			document.write("Identificacion del Cliente:"+'&nbsp;'+idClienteNIT+"<br>"+"<br>");
			document.write("Nombre del Cliente:"+'&nbsp;'+nombreCliente+"<br>"+"<br>");
			document.write("Direccion:"+'&nbsp;'+direccionCliente+"<br>"+"<br>");
			document.write("Telefono:"+'&nbsp;'+telefonoCliente+"<br>"+"<br>"+"<br>");
			
			
			
			}
			document.write('<button onclick="window.print()">Imprimir Factura</button>');
			
			
			
			generarFactura
			
			</script>
			
        <p>Gracias por su Compra ¡Vuelva Pronto!.</p>
    </div>

    <script>

        let precio_entradas = {
            "Hummus": 15.00,
            "Carner": 100.00
        }

        function calculateTotal(input) {
            
            
            var row = input.parentNode.parentNode; // Get the parent row of the input
            var quantity = parseFloat(row.cells[2].querySelector('input').value);
            var price = parseFloat(row.cells[3].querySelector('input').value.substr(1)); // Remove 'Q' and parse
            var total = quantity * price;
            row.cells[4].textContent = 'Q' + total.toFixed(2); // Update the total cell with the calculated value
            updateTotalAmount(); // Update the total amount in the footer
        }

        function updateTotalAmount() {
            var table = document.getElementById('billTable');
            var totalAmount = 0;
            for (var i = 1; i < table.rows.length - 1; i++) { // Skip header and footer rows
                totalAmount += parseFloat(table.rows[i].cells[4].textContent.substr(1)); // Remove 'Q' and sum
            }
            document.getElementById('totalAmount').textContent = 'Q' + totalAmount.toFixed(2); // Update the total amount in the footer
        }
    </script>
</body>
</html>
